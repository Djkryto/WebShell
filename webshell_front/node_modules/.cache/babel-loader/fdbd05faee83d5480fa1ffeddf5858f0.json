{"ast":null,"code":"import { useCallback } from \"react\";\nclass Repository {\n  constructor() {\n    this.postCommandAsync = useCallback(async command => {\n      const urlAddOnServer = 'https://localhost:7145/command/add';\n      const dataClient = {\n        id: 0,\n        data: '',\n        textCommand: command\n      };\n      if (command !== '') {\n        await fetch(urlAddOnServer, {\n          method: \"POST\",\n          redirect: \"follow\",\n          body: JSON.stringify(dataClient),\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          }\n        });\n      }\n    }, []);\n    this.currnetDirectoryAsync = useCallback(async () => {\n      const urlGetDirectory = \"https://localhost:7145/command/getDirectory\";\n      const responce = await fetch(urlGetDirectory, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      return await responce.text();\n    }, []);\n    this.subDirectoriesAsync = useCallback(async () => {\n      const urlGetDirectories = \"https://localhost:7145/command/getDirectories\";\n      const responce = await fetch(urlGetDirectories);\n      return await responce.json();\n    }, []);\n    this.getHistoryAsync = useCallback(async () => {\n      const urlGetHistory = \"https://localhost:7145/command/getHistory\";\n      const response = await fetch(urlGetHistory);\n      return await response.json();\n    }, []);\n    this.stopCommandAsync = useCallback(async () => {\n      const urlStopCommand = \"https://localhost:7145/command/Stop\";\n      await fetch(urlStopCommand, {\n        method: \"POST\",\n        redirect: \"follow\",\n        body: JSON.stringify(null),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n    }, []);\n  }\n}\nexport const dataServer = new Repository();","map":{"version":3,"names":["useCallback","Repository","postCommandAsync","command","urlAddOnServer","dataClient","id","data","textCommand","fetch","method","redirect","body","JSON","stringify","headers","currnetDirectoryAsync","urlGetDirectory","responce","text","subDirectoriesAsync","urlGetDirectories","json","getHistoryAsync","urlGetHistory","response","stopCommandAsync","urlStopCommand","dataServer"],"sources":["C:/Project/ASP.Net/WebShell_2/TaskDNS/ClientApp/src/Server/Command/Repository.tsx"],"sourcesContent":["import { useCallback } from \"react\"\r\n\r\nclass Repository {\r\n    postCommandAsync = useCallback(async (command : string) : Promise<void>=>{\r\n        const urlAddOnServer = 'https://localhost:7145/command/add'\r\n        const dataClient = { id: 0, data: '', textCommand: command }\r\n        \r\n        if (command !== '') {\r\n            await fetch(urlAddOnServer, {\r\n                method: \"POST\",\r\n                redirect: \"follow\",\r\n                body: JSON.stringify(dataClient),\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n        }\r\n    },[])\r\n\r\n    currnetDirectoryAsync = useCallback(async () : Promise<string> =>{\r\n        const urlGetDirectory = \"https://localhost:7145/command/getDirectory\"\r\n        const responce = await fetch(urlGetDirectory, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n\r\n        return await responce.text()\r\n    },[])\r\n    \r\n    subDirectoriesAsync = useCallback( async () : Promise<JSON> => {\r\n        const urlGetDirectories = \"https://localhost:7145/command/getDirectories\"\r\n        const responce = await fetch(urlGetDirectories)\r\n\r\n        return await responce.json()\r\n    },[])\r\n\r\n    getHistoryAsync = useCallback(async () : Promise<JSON> => {\r\n        const urlGetHistory = \"https://localhost:7145/command/getHistory\"\r\n        const response = await fetch(urlGetHistory)\r\n\r\n        return await response.json()\r\n    },[])\r\n\r\n    stopCommandAsync = useCallback(async () : Promise<void> => {\r\n\r\n        const urlStopCommand = \"https://localhost:7145/command/Stop\"\r\n    \r\n        await fetch(urlStopCommand, {\r\n            method: \"POST\",\r\n            redirect: \"follow\",\r\n            body: JSON.stringify(null),\r\n            headers: {  \r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json' \r\n            }\r\n        })\r\n    },[])\r\n}\r\n\r\nexport const dataServer = new Repository()"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,MAAMC,UAAU,CAAC;EAAA;IAAA,KACbC,gBAAgB,GAAGF,WAAW,CAAC,MAAOG,OAAgB,IAAmB;MACrE,MAAMC,cAAc,GAAG,oCAAoC;MAC3D,MAAMC,UAAU,GAAG;QAAEC,EAAE,EAAE,CAAC;QAAEC,IAAI,EAAE,EAAE;QAAEC,WAAW,EAAEL;MAAQ,CAAC;MAE5D,IAAIA,OAAO,KAAK,EAAE,EAAE;QAChB,MAAMM,KAAK,CAACL,cAAc,EAAE;UACxBM,MAAM,EAAE,MAAM;UACdC,QAAQ,EAAE,QAAQ;UAClBC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,UAAU,CAAC;UAChCU,OAAO,EAAE;YACL,QAAQ,EAAE,kBAAkB;YAC5B,cAAc,EAAE;UACpB;QACJ,CAAC,CAAC;MACN;IACJ,CAAC,EAAC,EAAE,CAAC;IAAA,KAELC,qBAAqB,GAAGhB,WAAW,CAAC,YAA6B;MAC7D,MAAMiB,eAAe,GAAG,6CAA6C;MACrE,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACQ,eAAe,EAAE;QAC1CP,MAAM,EAAE,KAAK;QACbK,OAAO,EAAE;UACL,QAAQ,EAAE,kBAAkB;UAC5B,cAAc,EAAE;QACpB;MACJ,CAAC,CAAC;MAEF,OAAO,MAAMG,QAAQ,CAACC,IAAI,EAAE;IAChC,CAAC,EAAC,EAAE,CAAC;IAAA,KAELC,mBAAmB,GAAGpB,WAAW,CAAE,YAA4B;MAC3D,MAAMqB,iBAAiB,GAAG,+CAA+C;MACzE,MAAMH,QAAQ,GAAG,MAAMT,KAAK,CAACY,iBAAiB,CAAC;MAE/C,OAAO,MAAMH,QAAQ,CAACI,IAAI,EAAE;IAChC,CAAC,EAAC,EAAE,CAAC;IAAA,KAELC,eAAe,GAAGvB,WAAW,CAAC,YAA4B;MACtD,MAAMwB,aAAa,GAAG,2CAA2C;MACjE,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACe,aAAa,CAAC;MAE3C,OAAO,MAAMC,QAAQ,CAACH,IAAI,EAAE;IAChC,CAAC,EAAC,EAAE,CAAC;IAAA,KAELI,gBAAgB,GAAG1B,WAAW,CAAC,YAA4B;MAEvD,MAAM2B,cAAc,GAAG,qCAAqC;MAE5D,MAAMlB,KAAK,CAACkB,cAAc,EAAE;QACxBjB,MAAM,EAAE,MAAM;QACdC,QAAQ,EAAE,QAAQ;QAClBC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC;QAC1BC,OAAO,EAAE;UACL,QAAQ,EAAE,kBAAkB;UAC5B,cAAc,EAAE;QACpB;MACJ,CAAC,CAAC;IACN,CAAC,EAAC,EAAE,CAAC;EAAA;AACT;AAEA,OAAO,MAAMa,UAAU,GAAG,IAAI3B,UAAU,EAAE"},"metadata":{},"sourceType":"module"}