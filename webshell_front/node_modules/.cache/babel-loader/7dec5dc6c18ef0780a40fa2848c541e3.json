{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\ASP.Net\\\\WebShell_2\\\\TaskDNS\\\\ClientApp\\\\src\\\\Console\\\\Input\\\\Input.tsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet indexCurrentDirectory = 0;\nlet indexCurrentHistory = 0;\nexport const Input = () => {\n  _s();\n  const [inputData, dispatch] = useReducer(InputReducer, {\n    valueInput: '',\n    valueUser: '',\n    currentSubDirectory: ''\n  });\n  const {\n    outputData,\n    consoleData,\n    sendCommand,\n    stopCommand\n  } = useContext(DataConsoleContext);\n  const eventHandler = e => {\n    checkStopWrite(e);\n    switch (e.key) {\n      case StatusKey.SendCommand:\n        sendCommand(inputData.valueInput);\n        dispatch({\n          type: ActionKind.Clear\n        });\n        break;\n      case StatusKey.SwitchSubDirectory:\n        e.preventDefault();\n        switchSubDirectory();\n        break;\n      case StatusKey.Up:\n        e.preventDefault();\n        callUpCommand();\n        break;\n      case StatusKey.Down:\n        e.preventDefault();\n        callDownCommand();\n        break;\n      case StatusKey.Cancel:\n        stopCommand();\n        break;\n    }\n    return e.key;\n  };\n  const switchSubDirectory = () => {\n    indexCurrentDirectory++;\n    if (indexCurrentDirectory > consoleData.subDirectory.length - 1) indexCurrentDirectory = 0;\n    dispatch({\n      type: ActionKind.ChangeInputValue,\n      valueInput: inputData.valueUser + allocateSubDirectory(consoleData.subDirectory[indexCurrentDirectory], consoleData.directory)\n    });\n  };\n  const callDownCommand = () => {\n    indexCurrentHistory++;\n    if (indexCurrentHistory > consoleData.history.length - 1) indexCurrentHistory = 0;\n    dispatch({\n      type: ActionKind.ChangeInputValue,\n      valueInput: consoleData.history[indexCurrentHistory].textCommand\n    });\n  };\n  const callUpCommand = () => {\n    indexCurrentHistory--;\n    if (indexCurrentHistory < 0) indexCurrentHistory = consoleData.history.length - 1;\n    dispatch({\n      type: ActionKind.ChangeInputValue,\n      valueInput: consoleData.history[indexCurrentHistory].textCommand\n    });\n  };\n  const checkStopWrite = useCallback(e => {\n    if (e.key === StatusKey.Cancel) return e.key;\n    return outputData.isDisabledWrite ? e.key = '' : e.key;\n  }, [outputData.isDisabledWrite]);\n  const changeHandler = useCallback(e => {\n    if (outputData.isDisabledWrite) return;\n    dispatch({\n      type: ActionKind.ChangeAllData,\n      valueInput: e.currentTarget.value,\n      valueUser: e.currentTarget.value\n    });\n  }, [outputData.isDisabledWrite]);\n  const scrollAuto = e => {\n    e === null || e === void 0 ? void 0 : e.scrollIntoView(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inputElement\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: replaceToOneSeparation(consoleData.directory)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: scrollAuto,\n      value: inputData.valueInput,\n      onKeyDown: eventHandler,\n      onChange: changeHandler,\n      className: \"inputConsole\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 12\n  }, this);\n};\n_s(Input, \"cy0ZhSbEdtRcALJAqIMBPT1EFEQ=\");\n_c = Input;\nvar _c;\n$RefreshReg$(_c, \"Input\");","map":{"version":3,"names":["indexCurrentDirectory","indexCurrentHistory","Input","inputData","dispatch","useReducer","InputReducer","valueInput","valueUser","currentSubDirectory","outputData","consoleData","sendCommand","stopCommand","useContext","DataConsoleContext","eventHandler","e","checkStopWrite","key","StatusKey","SendCommand","type","ActionKind","Clear","SwitchSubDirectory","preventDefault","switchSubDirectory","Up","callUpCommand","Down","callDownCommand","Cancel","subDirectory","length","ChangeInputValue","allocateSubDirectory","directory","history","textCommand","useCallback","isDisabledWrite","changeHandler","ChangeAllData","currentTarget","value","scrollAuto","scrollIntoView","replaceToOneSeparation"],"sources":["C:/Project/ASP.Net/WebShell_2/TaskDNS/ClientApp/src/Console/Input/Input.tsx"],"sourcesContent":["\r\n\r\nlet indexCurrentDirectory = 0\r\nlet indexCurrentHistory = 0\r\n\r\nexport const Input : FC = () => {\r\n    const [inputData,dispatch] = useReducer(InputReducer,{valueInput: '', valueUser:'', currentSubDirectory: ''})\r\n    const { outputData, consoleData, sendCommand, stopCommand } = useContext(DataConsoleContext)\r\n\r\n    const eventHandler = (e: KeyboardEvent): Key => {\r\n        checkStopWrite(e)\r\n\r\n        switch (e.key) {\r\n            case StatusKey.SendCommand:\r\n                sendCommand(inputData.valueInput)\r\n                dispatch({type: ActionKind.Clear})\r\n                break\r\n\r\n            case StatusKey.SwitchSubDirectory:\r\n                e.preventDefault()\r\n                switchSubDirectory()\r\n                break\r\n\r\n            case StatusKey.Up:\r\n                e.preventDefault()\r\n                callUpCommand()\r\n                break\r\n\r\n            case StatusKey.Down:\r\n                e.preventDefault()\r\n                callDownCommand()\r\n                break\r\n\r\n            case StatusKey.Cancel:\r\n                stopCommand()\r\n                break\r\n        }\r\n        \r\n        return e.key\r\n    }\r\n\r\n    const switchSubDirectory = () : void => {\r\n        indexCurrentDirectory++\r\n        if (indexCurrentDirectory > consoleData.subDirectory.length - 1) \r\n            indexCurrentDirectory = 0\r\n        \r\n        dispatch({ type: ActionKind.ChangeInputValue, valueInput: (inputData.valueUser + allocateSubDirectory(consoleData.subDirectory[indexCurrentDirectory],consoleData.directory))})\r\n    }\r\n\r\n    const callDownCommand = () : void => {\r\n        indexCurrentHistory++\r\n        if (indexCurrentHistory > consoleData.history.length - 1) \r\n            indexCurrentHistory = 0\r\n        \r\n        dispatch({ type: ActionKind.ChangeInputValue, valueInput: consoleData.history[indexCurrentHistory].textCommand})\r\n    }\r\n\r\n    const callUpCommand = () : void => {\r\n        indexCurrentHistory--;\r\n        if (indexCurrentHistory < 0) \r\n            indexCurrentHistory =  consoleData.history.length - 1;\r\n        \r\n        dispatch({ type: ActionKind.ChangeInputValue, valueInput: consoleData.history[indexCurrentHistory].textCommand})\r\n    }\r\n    \r\n    const checkStopWrite = useCallback((e: KeyboardEvent) : string => {\r\n        if(e.key === StatusKey.Cancel)\r\n            return e.key\r\n        \r\n        return outputData.isDisabledWrite ? e.key = '' : e.key\r\n    },[outputData.isDisabledWrite])\r\n\r\n    const changeHandler = useCallback((e : FormEvent<HTMLInputElement>) : void => {\r\n        if(outputData.isDisabledWrite)\r\n            return;\r\n\r\n        dispatch({ type: ActionKind.ChangeAllData, valueInput: e.currentTarget.value,valueUser:e.currentTarget.value })\r\n    },[outputData.isDisabledWrite])\r\n    \r\n    const scrollAuto = (e : HTMLInputElement) : void => {\r\n        e?.scrollIntoView(false)\r\n    }\r\n\r\n    return <div className='inputElement'>\r\n                <div>{replaceToOneSeparation(consoleData.directory)}</div>\r\n                <input ref ={scrollAuto} value = {inputData.valueInput} onKeyDown = {eventHandler} onChange = {changeHandler} className='inputConsole'/>\r\n            </div> \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}