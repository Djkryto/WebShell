{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\ASP.Net\\\\WebShell_2\\\\TaskDNS\\\\ClientApp\\\\src\\\\Input\\\\Input.tsx\",\n  _s = $RefreshSig$();\nimport { allocateSubDirectory, replaceToOneSeparation } from './textProcessing';\nimport { useState } from 'react';\nimport { StatusKey } from './Enum/StatusKey';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet indexCurrentDirectory = 0;\nlet indexCurrentHistory = 0;\nexport const Input = _ref => {\n  _s();\n  let {\n    isDisabledWrite,\n    sendCommand,\n    stopCommand,\n    serverDirectory,\n    subDirectory,\n    history\n  } = _ref;\n  const [valueInput, setValueInput] = useState('');\n  const eventHandler = e => {\n    checkStopWrite(e);\n    switch (e.key) {\n      case StatusKey.SendCommand:\n        sendCommand(valueInput);\n        setValueInput('');\n        break;\n      case StatusKey.SwitchSubDirectory:\n        e.preventDefault();\n        switchSubDirectory();\n        break;\n      case StatusKey.Up:\n        e.preventDefault();\n        callUpCommand();\n        break;\n      case StatusKey.Down:\n        e.preventDefault();\n        callDownCommand();\n        break;\n      case StatusKey.Cancel:\n        stopCommand();\n        break;\n    }\n    return e.key;\n  };\n  const switchSubDirectory = () => {\n    indexCurrentDirectory++;\n    if (indexCurrentDirectory > subDirectory.length - 1) indexCurrentDirectory = 0;\n    setValueInput(allocateSubDirectory(subDirectory[indexCurrentDirectory], serverDirectory));\n  };\n  const callDownCommand = () => {\n    indexCurrentHistory++;\n    console.log(history);\n    if (indexCurrentHistory > history.length - 1) indexCurrentHistory = 0;\n    setValueInput(history[indexCurrentHistory].textCommand);\n  };\n  const callUpCommand = () => {\n    indexCurrentHistory--;\n    if (indexCurrentHistory < 0) indexCurrentHistory = history.length - 1;\n    setValueInput(history[indexCurrentHistory].textCommand);\n  };\n  const checkStopWrite = e => {\n    if (e.key === StatusKey.Cancel) return e.key;\n    return isDisabledWrite ? e.key = '' : e.key;\n  };\n  const changeHandler = e => {\n    if (!isDisabledWrite) setValueInput(e.currentTarget.value);\n  };\n  const scrollAuto = e => {\n    e === null || e === void 0 ? void 0 : e.scrollIntoView(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: replaceToOneSeparation(serverDirectory)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: scrollAuto,\n      value: valueInput,\n      onKeyDown: eventHandler,\n      onChange: changeHandler,\n      className: \"inputConsole\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 12\n  }, this);\n};\n_s(Input, \"L8a+Rnp3at4gBADpSfDaV4eNl3k=\");\n_c = Input;\nvar _c;\n$RefreshReg$(_c, \"Input\");","map":{"version":3,"names":["allocateSubDirectory","replaceToOneSeparation","useState","StatusKey","indexCurrentDirectory","indexCurrentHistory","Input","isDisabledWrite","sendCommand","stopCommand","serverDirectory","subDirectory","history","valueInput","setValueInput","eventHandler","e","checkStopWrite","key","SendCommand","SwitchSubDirectory","preventDefault","switchSubDirectory","Up","callUpCommand","Down","callDownCommand","Cancel","length","console","log","textCommand","changeHandler","currentTarget","value","scrollAuto","scrollIntoView"],"sources":["C:/Project/ASP.Net/WebShell_2/TaskDNS/ClientApp/src/Input/Input.tsx"],"sourcesContent":["import { allocateSubDirectory,replaceToOneSeparation } from './textProcessing'\r\nimport { KeyboardEvent, FC, Key, FormEvent, useState } from 'react'\r\nimport { StatusKey } from './Enum/StatusKey'\r\nimport { IInput } from './Interface/IInput'\r\n\r\nlet indexCurrentDirectory = 0\r\nlet indexCurrentHistory = 0\r\n\r\nexport const Input : FC<IInput> =  ({ isDisabledWrite, sendCommand, stopCommand, serverDirectory ,subDirectory,history})  => {\r\n    const [valueInput,setValueInput] = useState('')\r\n\r\n    const eventHandler = (e: KeyboardEvent): Key => {\r\n        checkStopWrite(e)\r\n\r\n        switch (e.key) {\r\n            case StatusKey.SendCommand:\r\n                sendCommand(valueInput)\r\n                setValueInput('')\r\n                break;\r\n\r\n            case StatusKey.SwitchSubDirectory:\r\n                e.preventDefault()\r\n                switchSubDirectory()\r\n                break;\r\n\r\n            case StatusKey.Up:\r\n                e.preventDefault()\r\n                callUpCommand()\r\n                break;\r\n\r\n            case StatusKey.Down:\r\n                e.preventDefault()\r\n                callDownCommand()\r\n                break;\r\n\r\n            case StatusKey.Cancel:\r\n                stopCommand()\r\n                break;\r\n        }\r\n        return e.key\r\n    }\r\n\r\n    const switchSubDirectory = (): void => {\r\n        indexCurrentDirectory++\r\n        if (indexCurrentDirectory > subDirectory.length - 1) \r\n            indexCurrentDirectory = 0\r\n        \r\n        setValueInput(allocateSubDirectory(subDirectory[indexCurrentDirectory],serverDirectory))\r\n    }\r\n\r\n    const callDownCommand = () : void => {\r\n        indexCurrentHistory++\r\n        console.log(history)\r\n        if (indexCurrentHistory > history.length - 1) \r\n            indexCurrentHistory = 0\r\n        \r\n        setValueInput(history[indexCurrentHistory].textCommand)\r\n    }\r\n\r\n    const callUpCommand = () : void => {\r\n        indexCurrentHistory--;\r\n        if (indexCurrentHistory < 0) \r\n            indexCurrentHistory =  history.length - 1;\r\n        \r\n        setValueInput(history[indexCurrentHistory].textCommand)\r\n    }\r\n    \r\n    const checkStopWrite = (e: KeyboardEvent): string => {\r\n        if(e.key === StatusKey.Cancel)\r\n        return e.key\r\n        \r\n        return isDisabledWrite ? e.key = '' : e.key\r\n    }\r\n\r\n    const changeHandler = (e : FormEvent<HTMLInputElement>) : void => {\r\n        if(!isDisabledWrite)\r\n        setValueInput(e.currentTarget.value)\r\n    }\r\n    \r\n    const scrollAuto = (e : HTMLInputElement) : void => {\r\n        e?.scrollIntoView(false)\r\n    }\r\n\r\n    return <div className='input'>\r\n                <div>{replaceToOneSeparation(serverDirectory)}</div>\r\n                <input ref ={scrollAuto} value = {valueInput}  onKeyDown = {eventHandler} onChange = {changeHandler} className='inputConsole'/>\r\n    </div> \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}